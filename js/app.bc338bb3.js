(()=>{"use strict";var e={7706:(e,t,n)=>{n(6992),n(8674),n(9601),n(7727);var o=n(9963),r=n(6252);function a(e,t){var n=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(n)}var i=n(3744);const l={},u=(0,i.Z)(l,[["render",a]]),s=u;var c=n(2119),d=n(3577),p=function(e){return(0,r.dD)("data-v-a1ee6568"),e=e(),(0,r.Cn)(),e},m={class:"title"},f=p((function(){return(0,r._)("h1",null,"Crear empleado",-1)})),v={class:"form-section"},y=p((function(){return(0,r._)("label",{for:"firstname"},"Nombre",-1)})),h={key:0},g=p((function(){return(0,r._)("label",{for:"lastname"},"Apellido",-1)})),_={key:0},w=p((function(){return(0,r._)("label",{for:"company"},"Empresa",-1)})),b={key:0},k=p((function(){return(0,r._)("label",{for:"rate"},"Coste/h",-1)})),I={key:0},x=p((function(){return(0,r._)("label",{for:"email"},"Email",-1)})),C={key:0},V=p((function(){return(0,r._)("h3",null,"Areas",-1)})),U=p((function(){return(0,r._)("label",{for:"productor"},"Productor",-1)})),D=p((function(){return(0,r._)("label",{for:"tecnico"},"T√©cnico",-1)})),N=p((function(){return(0,r._)("label",{for:"aplicador"},"Aplicador",-1)})),S=p((function(){return(0,r._)("label",{for:"distribuidor"},"Distribuidor",-1)})),E=p((function(){return(0,r._)("label",{for:"operario"},"Operario",-1)})),W={key:0},A={key:0},T={class:"button"},Z=(0,r.Uk)("Crear empleado");function q(e,t,n,a,i,l){var u=(0,r.up)("side-nav"),s=(0,r.up)("font-awesome-icon"),c=(0,r.up)("base-button"),p=(0,r.up)("register-card");return(0,r.wg)(),(0,r.iD)("section",null,[(0,r.Wm)(u),(0,r._)("div",m,[(0,r.Wm)(s,{icon:"users",size:"1x"}),f]),(0,r._)("form",{onSubmit:t[20]||(t[20]=(0,o.iM)((function(){return l.createEmployee&&l.createEmployee.apply(l,arguments)}),["prevent"]))},[(0,r._)("section",v,[(0,r.Wm)(p,{class:"form-card"},{default:(0,r.w5)((function(){return[(0,r._)("div",{class:(0,d.C_)(["form-control",{invalid:!i.firstName.isValid}])},[y,(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return i.firstName.val=e}),onBlur:t[1]||(t[1]=function(e){return l.clearValidity("firstName")})},null,544),[[o.nr,i.firstName.val]]),i.firstName.isValid?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("p",h,"üëÄ El nombre no puede estar vac√≠o"))],2),(0,r._)("div",{class:(0,d.C_)(["form-control",{invalid:!i.lastName.isValid}])},[g,(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return i.lastName.val=e}),onBlur:t[3]||(t[3]=function(e){return l.clearValidity("lastName")})},null,544),[[o.nr,i.lastName.val]]),i.lastName.isValid?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("p",_,"üßê El apellido no puede estar vac√≠o"))],2),(0,r._)("div",{class:(0,d.C_)(["form-control",{invalid:!i.company.isValid}])},[w,(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=function(e){return i.company.val=e}),onBlur:t[5]||(t[5]=function(e){return l.clearValidity("company")})},null,544),[[o.nr,i.company.val]]),i.company.isValid?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("p",b," üìã Completa el nombre de la empresa para continuar "))],2),(0,r._)("div",{class:(0,d.C_)(["form-control",{invalid:!i.rate.isValid}])},[k,(0,r.wy)((0,r._)("input",{type:"number","onUpdate:modelValue":t[6]||(t[6]=function(e){return i.rate.val=e}),onBlur:t[7]||(t[7]=function(e){return l.clearValidity("rate")})},null,544),[[o.nr,i.rate.val]]),i.rate.isValid?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("p",I,"ü§ë El coste tiene que ser mayor que 0"))],2),(0,r._)("div",{class:(0,d.C_)(["form-control",{invalid:!i.email.isValid}])},[x,(0,r.wy)((0,r._)("input",{type:"email","onUpdate:modelValue":t[8]||(t[8]=function(e){return i.email.val=e}),onBlur:t[9]||(t[9]=function(e){return l.clearValidity("email")})},null,544),[[o.nr,i.email.val]]),i.email.isValid?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("p",C,"üì´ No recibir√°s spam"))],2),(0,r._)("div",{class:(0,d.C_)(["form-control",{invalid:!i.areas.isValid}])},[V,(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"checkbox",id:"productor",value:"productor","onUpdate:modelValue":t[10]||(t[10]=function(e){return i.areas.val=e}),onBlur:t[11]||(t[11]=function(e){return l.clearValidity("areas")})},null,544),[[o.e8,i.areas.val]]),U]),(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"checkbox",id:"tecnico",value:"tecnico","onUpdate:modelValue":t[12]||(t[12]=function(e){return i.areas.val=e}),onBlur:t[13]||(t[13]=function(e){return l.clearValidity("areas")})},null,544),[[o.e8,i.areas.val]]),D]),(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"checkbox",id:"aplicador",value:"aplicador","onUpdate:modelValue":t[14]||(t[14]=function(e){return i.areas.val=e}),onBlur:t[15]||(t[15]=function(e){return l.clearValidity("areas")})},null,544),[[o.e8,i.areas.val]]),N]),(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"checkbox",id:"distribuidor",value:"distribuidor","onUpdate:modelValue":t[16]||(t[16]=function(e){return i.areas.val=e}),onBlur:t[17]||(t[17]=function(e){return l.clearValidity("areas")})},null,544),[[o.e8,i.areas.val]]),S]),(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"checkbox",id:"operario",value:"operario","onUpdate:modelValue":t[18]||(t[18]=function(e){return i.areas.val=e}),onBlur:t[19]||(t[19]=function(e){return l.clearValidity("areas")})},null,544),[[o.e8,i.areas.val]]),E]),i.areas.isValid?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("p",W," üéâ Tienes que seleccionar almenos un area "))],2),i.formIsValid?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("p",A," Upss... Soluciona los problemas marcados y vuelve a enviarlo. ")),(0,r._)("div",T,[(0,r.Wm)(c,{class:"main"},{default:(0,r.w5)((function(){return[Z]})),_:1})])]})),_:1})])],32)])}var B=n(8534),O=(n(5666),n(5503)),R=n(5321),L={apiKey:"AIzaSyAmUUH2ntAgbioVMwGiqszeFepZ_-PhqjU",authDomain:"agrawa-d1c62.firebaseapp.com",projectId:"agrawa-d1c62",storageBucket:"agrawa-d1c62.appspot.com",messagingSenderId:"580599641566",appId:"1:580599641566:web:2ac761e9284b6bcf10994f",measurementId:"G-35P0B7XXKN"},z=(0,O.ZF)(L),j=(0,R.ad)(z),$=(0,R.hJ)(j,"employees");const P=$,F={data:function(){return{firstName:{val:"",isValid:!0},lastName:{val:"",isValid:!0},company:{val:"",isValid:!0},rate:{val:null,isValid:!0},email:{val:null,isValid:!0},areas:{val:[],isValid:!0},formIsValid:!0}},methods:{clearValidity:function(e){this[e].isValid=!0},validateForm:function(){this.formIsValid=!0,""===this.firstName.val&&(this.firstName.isValid=!1,this.formIsValid=!1),""===this.lastName.val&&(this.lastName.isValid=!1,this.formIsValid=!1),""===this.company.val&&(this.company.isValid=!1,this.formIsValid=!1),(!this.rate.val||this.rate.val<0)&&(this.rate.isValid=!1,this.formIsValid=!1),this.email.val&&""!==this.email.val||(this.email.isValid=!1,this.formIsValid=!1),0===this.areas.val.length&&(this.areas.isValid=!1,this.formIsValid=!1)},createEmployee:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.validateForm(),e.formIsValid){t.next=3;break}return t.abrupt("return");case 3:return n={firstName:e.firstName.val,lastName:e.lastName.val,company:e.company.val,rate:e.rate.val,areas:e.areas.val,email:e.email.val},console.log("Creating Document"),t.next=7,(0,R.ET)(P,n);case 7:o=t.sent,alert("Document created successfully!"),console.log(o),e.$router.push("/employees");case 11:case"end":return t.stop()}}),t)})))()}}},M=(0,i.Z)(F,[["render",q],["__scopeId","data-v-a1ee6568"]]),H=M;var G=function(e){return(0,r.dD)("data-v-202a48c5"),e=e(),(0,r.Cn)(),e},J={class:"home"},K={class:"add"},Y=(0,r.Uk)(" Crear"),X={class:"title"},Q=G((function(){return(0,r._)("h1",null,"Empleados",-1)})),ee=G((function(){return(0,r._)("p",null,"Aqu√≠ estan todos los trabajadores",-1)})),te={class:"container"},ne={class:"bordered"},oe=G((function(){return(0,r._)("thead",{class:"header"},[(0,r._)("tr",null,[(0,r._)("th",null,"Nombre"),(0,r._)("th",null,"Apellido"),(0,r._)("th",null,"Empresa"),(0,r._)("th",null,"Coste"),(0,r._)("th",null,"Correo"),(0,r._)("th",null,"Acciones")])],-1)})),re={class:"list-group"},ae=["onClick"];function ie(e,t,n,o,a,i){var l=(0,r.up)("side-nav"),u=(0,r.up)("the-header"),s=(0,r.up)("font-awesome-icon"),c=(0,r.up)("base-button"),p=(0,r.up)("router-link"),m=(0,r.up)("base-card");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(l),(0,r.Wm)(u),(0,r._)("div",J,[(0,r._)("section",null,[(0,r.Wm)(m,null,{default:(0,r.w5)((function(){return[(0,r._)("div",K,[(0,r.Wm)(c,{link:"",to:"/create-employee",class:"main"},{default:(0,r.w5)((function(){return[(0,r.Wm)(s,{icon:"plus"}),Y]})),_:1})]),(0,r._)("div",X,[(0,r.Wm)(s,{icon:"users",size:"2x"}),Q,ee]),(0,r._)("div",te,[(0,r._)("table",ne,[oe,(0,r._)("tbody",re,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.employees,(function(e){return(0,r.wg)(),(0,r.iD)("tr",{key:e.id},[(0,r._)("td",null,(0,d.zw)(e.firstName),1),(0,r._)("td",null,(0,d.zw)(e.lastName),1),(0,r._)("td",null,(0,d.zw)(e.company),1),(0,r._)("td",null,(0,d.zw)(e.rate),1),(0,r._)("td",null,(0,d.zw)(e.email),1),(0,r._)("td",null,[(0,r.Wm)(c,{class:"button"},{default:(0,r.w5)((function(){return[(0,r.Wm)(p,{to:{path:"/employee/".concat(e.id)}},{default:(0,r.w5)((function(){return[(0,r.Wm)(s,{icon:"pen",color:"white"})]})),_:2},1032,["to"])]})),_:2},1024),(0,r.Wm)(c,{class:"button"},{default:(0,r.w5)((function(){return[(0,r._)("a",{href:"#",onClick:function(t){return i.deleteEmployee(e.id)}},[(0,r.Wm)(s,{icon:"trash",color:"white"})],8,ae)]})),_:2},1024)])])})),128))])])])]})),_:1})])])],64)}n(9554),n(1539),n(4747),n(9254),n(8309);const le=n.p+"img/logowhite.5c994045.png";var ue={class:"logo-details",style:{margin:"6px 14px 0 14px"}},se=(0,r._)("div",{class:"logo_name"},[(0,r._)("img",{src:le,alt:""})],-1),ce={style:{display:"flex","flex-direction":"column","justify-content":"space-between","flex-grow":"1","max-height":"calc(100% - 60px)"}},de={id:"my-scroll",style:{margin:"6px 14px 0 14px"}},pe={class:"nav-list",style:{overflow:"visible"}},me=["href"],fe={class:"links_name"},ve={class:"tooltip"},ye={key:0,class:"profile"},he={class:"profile-details"},ge=["src"],_e={key:1,class:"bx bxs-user-rectangle"},we={class:"name_job"},be={class:"name"};function ke(e,t,n,o,a,i){return(0,r.wg)(),(0,r.iD)("div",{class:(0,d.C_)(["sidebar",a.isOpened?"open":""]),style:(0,d.j5)(i.cssVars)},[(0,r._)("div",ue,[se,(0,r._)("i",{class:(0,d.C_)(["bx",a.isOpened?"bx-menu-alt-right":"bx-menu"]),id:"btn",onClick:t[0]||(t[0]=function(e){return a.isOpened=!a.isOpened})},null,2)]),(0,r._)("div",ce,[(0,r._)("div",de,[(0,r._)("ul",pe,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.menuItems,(function(e,t){return(0,r.wg)(),(0,r.iD)("span",{key:t},[(0,r._)("li",null,[(0,r._)("a",{href:e.link},[(0,r._)("i",{class:(0,d.C_)(["bx",e.icon||"bx-square-rounded"])},null,2),(0,r._)("span",fe,(0,d.zw)(e.name),1)],8,me),(0,r._)("span",ve,(0,d.zw)(e.tooltip||e.name),1)])])})),128))])]),i.isLoggedIn?((0,r.wg)(),(0,r.iD)("div",ye,[(0,r._)("div",he,[n.profileImg?((0,r.wg)(),(0,r.iD)("img",{key:0,src:n.profileImg,alt:"profileImg"},null,8,ge)):((0,r.wg)(),(0,r.iD)("i",_e)),(0,r._)("div",we,[(0,r._)("div",be,(0,d.zw)(n.profileName),1)])]),n.isExitButton?((0,r.wg)(),(0,r.iD)("i",{key:0,class:"bx bx-log-out",id:"log_out",onClick:t[1]||(t[1]=function(){return i.logout&&i.logout.apply(i,arguments)})})):(0,r.kq)("",!0)])):(0,r.kq)("",!0)])],6)}n(4916),n(5306);const Ie={name:"SidebarMenuAkahon",props:{
//! Menu settings
isMenuOpen:{type:Boolean,default:!0},menuTitle:{type:String,default:"Akahon"},menuLogo:{type:String,default:""},menuIcon:{type:String,default:"bxl-c-plus-plus"},isPaddingLeft:{type:Boolean,default:!0},menuOpenedPaddingLeftBody:{type:String,default:"250px"},menuClosedPaddingLeftBody:{type:String,default:"78px"},
//! Menu items
menuItems:{type:Array,default:function(){return[{link:"#",name:"Dashboard",tooltip:"Dashboard",icon:"bx-grid-alt"},{link:"#",name:"Mapa",tooltip:"Mapa",icon:"bx-map"},{link:"#",name:"Meteo",tooltip:"Meteo",icon:"bx-sun"},{link:"#",name:"Tareas",tooltip:"Tareas",icon:"bx-clipboard"},{link:"#",name:"Calendario",tooltip:"Calendario",icon:"bx-calendar"},{link:"#",name:"Control horario",tooltip:"Control horario",icon:"bx-time"},{link:"#",name:"Empleados",tooltip:"Empleados",icon:"bx-user"},{link:"#",name:"Ajustes",tooltip:"Ajustes",icon:"bx-cog"}]}},
//! Profile detailes
profileImg:{type:String,default:""},profileName:{type:String,default:"Belisa"},isExitButton:{type:Boolean,default:!0},
//! Styles
bgColor:{type:String,default:"#092E23"},secondaryColor:{type:String,default:"#092E23"},homeSectionColor:{type:String,default:"#e4e9f7"},logoTitleColor:{type:String,default:"#FFE100"},iconsColor:{type:String,default:"#fff"},itemsTooltipColor:{type:String,default:"#e4e9f7"},menuItemsHoverColor:{type:String,default:"#fff"},menuItemsTextColor:{type:String,default:"#fff"},menuFooterTextColor:{type:String,default:"#fff"}},data:function(){return{isOpened:!1}},mounted:function(){this.isOpened=this.isMenuOpen},computed:{isLoggedIn:function(){return this.$store.getters.isAuthenticated},cssVars:function(){return{"--bg-color":this.bgColor,"--secondary-color":this.secondaryColor,"--home-section-color":this.homeSectionColor,"--logo-title-color":this.logoTitleColor,"--icons-color":this.iconsColor,"--items-tooltip-color":this.itemsTooltipColor,"--menu-items-hover-color":this.menuItemsHoverColor,"--menu-items-text-color":this.menuItemsTextColor,"--menu-footer-text-color":this.menuFooterTextColor}}},methods:{logout:function(){this.$store.dispatch("logout"),this.$router.replace("/auth")}},watch:{isOpened:function(){window.document.body.style.paddingLeft=this.isOpened&&this.isPaddingLeft?this.menuOpenedPaddingLeftBody:this.menuClosedPaddingLeftBody}}},xe=(0,i.Z)(Ie,[["render",ke]]),Ce=xe;var Ve=function(e){return(0,r.dD)("data-v-1cecc204"),e=e(),(0,r.Cn)(),e},Ue=Ve((function(){return(0,r._)("nav",null,[(0,r._)("h1",null,"¬°Hola Belisa!")],-1)})),De=[Ue];function Ne(e,t){return(0,r.wg)(),(0,r.iD)("header",null,De)}const Se={},Ee=(0,i.Z)(Se,[["render",Ne],["__scopeId","data-v-1cecc204"]]),We=Ee,Ae={name:"EmployeesList",components:{SideNav:Ce,TheHeader:We},data:function(){return{employees:[],selectedDoc:null}},methods:{fetchEmployees:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,R.PL)(P);case 2:n=t.sent,o=[],n.forEach((function(e){var t=e.data();t.id=e.id,o.push(t)})),console.log(o),e.employees=o;case 7:case"end":return t.stop()}}),t)})))()},deleteEmployee:function(e){var t=this;return(0,B.Z)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=(0,R.JU)(P,e),n.next=3,(0,R.oe)(o);case 3:alert("Employee deleted successully!"),t.$router.go();case 5:case"end":return n.stop()}}),n)})))()}},created:function(){this.fetchEmployees()}},Te=(0,i.Z)(Ae,[["render",ie],["__scopeId","data-v-202a48c5"]]),Ze=Te;var qe=function(e){return(0,r.dD)("data-v-d27f482a"),e=e(),(0,r.Cn)(),e},Be={class:"title"},Oe=qe((function(){return(0,r._)("h1",null,"Editar empleado",-1)})),Re={class:"form-section"},Le=qe((function(){return(0,r._)("label",{for:"firstname"},"Nombre",-1)})),ze=qe((function(){return(0,r._)("label",{for:"lastname"},"Apellido",-1)})),je=qe((function(){return(0,r._)("label",{for:"company"},"Empresa",-1)})),$e=qe((function(){return(0,r._)("label",{for:"rate"},"Coste/h",-1)})),Pe=qe((function(){return(0,r._)("label",{for:"email"},"Email",-1)})),Fe=qe((function(){return(0,r._)("h3",null,"Areas",-1)})),Me=qe((function(){return(0,r._)("label",{for:"productor"},"Productor",-1)})),He=qe((function(){return(0,r._)("label",{for:"tecnico"},"T√©cnico",-1)})),Ge=qe((function(){return(0,r._)("label",{for:"aplicador"},"Aplicador",-1)})),Je=qe((function(){return(0,r._)("label",{for:"distribuidor"},"Distribuidor",-1)})),Ke=qe((function(){return(0,r._)("label",{for:"operario"},"Operario",-1)})),Ye={class:"button"},Xe=(0,r.Uk)("Actualiza empleado");function Qe(e,t,n,a,i,l){var u=(0,r.up)("side-nav"),s=(0,r.up)("font-awesome-icon"),c=(0,r.up)("base-button"),d=(0,r.up)("register-card");return(0,r.wg)(),(0,r.iD)("section",null,[(0,r.Wm)(u),(0,r._)("div",Be,[(0,r.Wm)(s,{icon:"users",size:"1x"}),Oe]),(0,r._)("form",{onSubmit:t[10]||(t[10]=(0,o.iM)((function(){return l.updateEmployee&&l.updateEmployee.apply(l,arguments)}),["prevent"]))},[(0,r._)("section",Re,[(0,r.Wm)(d,{class:"form-card"},{default:(0,r.w5)((function(){return[(0,r._)("div",null,[Le,(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return i.employeeInfo.firstName=e})},null,512),[[o.nr,i.employeeInfo.firstName]])]),(0,r._)("div",null,[ze,(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return i.employeeInfo.lastName=e})},null,512),[[o.nr,i.employeeInfo.lastName]])]),(0,r._)("div",null,[je,(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return i.employeeInfo.company=e})},null,512),[[o.nr,i.employeeInfo.company]])]),(0,r._)("div",null,[$e,(0,r.wy)((0,r._)("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=function(e){return i.employeeInfo.rate=e})},null,512),[[o.nr,i.employeeInfo.rate]])]),(0,r._)("div",null,[Pe,(0,r.wy)((0,r._)("input",{type:"email","onUpdate:modelValue":t[4]||(t[4]=function(e){return i.employeeInfo.email=e})},null,512),[[o.nr,i.employeeInfo.email]])]),(0,r._)("div",null,[Fe,(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"checkbox",id:"productor",value:"productor","onUpdate:modelValue":t[5]||(t[5]=function(e){return i.employeeInfo.areas=e})},null,512),[[o.e8,i.employeeInfo.areas]]),Me]),(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"checkbox",id:"tecnico",value:"tecnico","onUpdate:modelValue":t[6]||(t[6]=function(e){return i.employeeInfo.areas=e})},null,512),[[o.e8,i.employeeInfo.areas]]),He]),(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"checkbox",id:"aplicador",value:"aplicador","onUpdate:modelValue":t[7]||(t[7]=function(e){return i.employeeInfo.areas=e})},null,512),[[o.e8,i.employeeInfo.areas]]),Ge]),(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"checkbox",id:"distribuidor",value:"distribuidor","onUpdate:modelValue":t[8]||(t[8]=function(e){return i.employeeInfo.areas=e})},null,512),[[o.e8,i.employeeInfo.areas]]),Je]),(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"checkbox",id:"operario",value:"operario","onUpdate:modelValue":t[9]||(t[9]=function(e){return i.employeeInfo.areas=e})},null,512),[[o.e8,i.employeeInfo.areas]]),Ke])]),(0,r._)("div",Ye,[(0,r.Wm)(c,{class:"main"},{default:(0,r.w5)((function(){return[Xe]})),_:1})])]})),_:1})])],32)])}const et={data:function(){return{selectedEmployee:{},employeeId:null,docRef:null,employeeInfo:{firstName:null,lastName:null,company:null,rate:null,email:null,areas:[]}}},methods:{getEmployee:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){var n,o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=(0,R.JU)(P,e.employeeId),e.docRef=n,t.next=4,(0,R.QT)(e.docRef);case 4:o=t.sent,r=o.data(),e.employeeInfo.firstName=r.firstName,e.employeeInfo.lastName=r.lastName,e.employeeInfo.company=r.company,e.employeeInfo.rate=r.rate,e.employeeInfo.email=r.email,e.employeeInfo.areas=r.areas;case 12:case"end":return t.stop()}}),t)})))()},updateEmployee:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,R.pl)(e.docRef,e.employeeInfo);case 2:alert("The employee with ID of ".concat(e.employeeId," has been updated successfully!")),e.$router.push("/");case 4:case"end":return t.stop()}}),t)})))()},created:function(){var e=this.$route.params.employeeId;this.employeeId=e,this.getEmployee()}}},tt=(0,i.Z)(et,[["render",Qe],["__scopeId","data-v-d27f482a"]]),nt=tt;var ot=(0,r._)("h2",null,"Page not found",-1),rt=(0,r.Uk)(" This page could not be found - maybe check out all our "),at=(0,r.Uk)("employees"),it=(0,r.Uk)(". ");function lt(e,t){var n=(0,r.up)("router-link"),o=(0,r.up)("base-card");return(0,r.wg)(),(0,r.iD)("section",null,[(0,r.Wm)(o,null,{default:(0,r.w5)((function(){return[ot,(0,r._)("p",null,[rt,(0,r.Wm)(n,{to:"/employees"},{default:(0,r.w5)((function(){return[at]})),_:1}),it])]})),_:1})])}const ut={},st=(0,i.Z)(ut,[["render",lt]]),ct=st;var dt=function(e){return(0,r.dD)("data-v-041b7705"),e=e(),(0,r.Cn)(),e},pt=dt((function(){return(0,r._)("h1",null,"Iniciar Sesi√≥n",-1)})),mt=dt((function(){return(0,r._)("h2",null,[(0,r.Uk)(" Bienvenido üëãüèº "),(0,r._)("br"),(0,r.Uk)(" inicia sesi√≥n y empieza ")],-1)})),ft={class:"form-control"},vt=dt((function(){return(0,r._)("label",{for:"email"},"Correo",-1)})),yt={class:"form-control"},ht=dt((function(){return(0,r._)("label",{for:"password"},"Contrase√±a",-1)})),gt={key:0,class:"incorrect"},_t=dt((function(){return(0,r._)("div",{class:"info"},[(0,r._)("div",{class:"form-control, check"},[(0,r._)("input",{type:"checkbox",id:"checkpass",name:"checkpass",value:"checkpass"}),(0,r._)("label",{for:"checkpass"}," Recordarme")]),(0,r._)("p",null,[(0,r.Uk)("¬øHas olvidado tu "),(0,r._)("br"),(0,r.Uk)("contrase√±a?")])],-1)})),wt=dt((function(){return(0,r._)("div",{class:"or"},[(0,r._)("hr"),(0,r._)("p",null,"o"),(0,r._)("hr")],-1)}));function bt(e,t,n,a,i,l){var u=(0,r.up)("base-dialog"),s=(0,r.up)("base-spinner"),c=(0,r.up)("auth-nav"),p=(0,r.up)("base-button"),m=(0,r.up)("auth-card");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(u,{show:!!i.error,title:"An error occurred",onClose:l.handleError},{default:(0,r.w5)((function(){return[(0,r._)("p",null,(0,d.zw)(i.error),1)]})),_:1},8,["show","onClose"]),(0,r.Wm)(u,{show:i.isLoading,fixed:"",title:"Authenticating..."},{default:(0,r.w5)((function(){return[(0,r.Wm)(s)]})),_:1},8,["show"]),(0,r.Wm)(c),(0,r.Wm)(m,{class:"basecard"},{default:(0,r.w5)((function(){return[pt,mt,(0,r._)("form",{onSubmit:t[2]||(t[2]=(0,o.iM)((function(){return l.submitForm&&l.submitForm.apply(l,arguments)}),["prevent"]))},[(0,r._)("div",ft,[vt,(0,r.wy)((0,r._)("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=function(e){return i.email=e})},null,512),[[o.nr,i.email,void 0,{trim:!0}]])]),(0,r._)("div",yt,[ht,(0,r.wy)((0,r._)("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=function(e){return i.password=e})},null,512),[[o.nr,i.password,void 0,{trim:!0}]])]),i.formIsValid?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("p",gt," ‚ö†Ô∏è El correo o la contrase√±a es incorrecta, int√©ntalo de nuevo ")),_t,(0,r.Wm)(p,{class:"auth-button"},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,d.zw)(l.submitButtonCaption),1)]})),_:1})],32),wt,(0,r.Wm)(p,{type:"button",mode:"flat",class:"register, auth-button",onClick:l.switchAuthMode},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,d.zw)(l.switchModeButtonCaption),1)]})),_:1},8,["onClick"])]})),_:1})])}n(6699),n(2023);const kt=n.p+"img/logo.bf36d5d4.png";var It=function(e){return(0,r.dD)("data-v-d9972fbe"),e=e(),(0,r.Cn)(),e},xt=It((function(){return(0,r._)("img",{src:kt,alt:""},null,-1)})),Ct=(0,r.Uk)(" ¬øNo tienes cuenta? "),Vt=(0,r.Uk)("Reg√≠strate gratis");function Ut(e,t){var n=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("header",null,[(0,r._)("nav",null,[xt,(0,r._)("p",null,[Ct,(0,r.Wm)(n,{to:"/register",class:"router"},{default:(0,r.w5)((function(){return[Vt]})),_:1})])])])}const Dt={},Nt=(0,i.Z)(Dt,[["render",Ut],["__scopeId","data-v-d9972fbe"]]),St=Nt,Et={components:{AuthNav:St},emits:["save-data"],data:function(){return{email:"",password:"",formIsValid:!0,mode:"login",isLoading:!1,error:null}},computed:{submitButtonCaption:function(){return"login"===this.mode?"Iniciar sesi√≥n":"Reg√≠strate gratis"},switchModeButtonCaption:function(){return"login"===this.mode?"Reg√≠strate gratis":"Iniciar sesi√≥n"}},methods:{submitForm:function(){var e=this;return(0,B.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.formIsValid=!0,""!==e.email&&e.email.includes("@")&&!(e.password.length<6)){t.next=4;break}return e.formIsValid=!1,t.abrupt("return");case 4:if(e.isLoading=!0,t.prev=5,"login"!==e.mode){t.next=11;break}return t.next=9,e.$store.dispatch("login",{email:e.email,password:e.password});case 9:t.next=13;break;case 11:return t.next=13,e.$store.dispatch("signup",{email:e.email,password:e.password});case 13:e.$router.replace("/employees"),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](5),e.error=t.t0.message||"Failed to authenticate, try later";case 19:e.isLoading=!1;case 20:case"end":return t.stop()}}),t,null,[[5,16]])})))()},switchAuthMode:function(){"login"===this.mode?this.mode="signup":this.mode="login"},handleError:function(){this.error=null}}},Wt=(0,i.Z)(Et,[["render",bt],["__scopeId","data-v-041b7705"]]),At=Wt;var Tt=(0,c.p7)({history:(0,c.PO)(),routes:[{path:"/",redirect:"/auth"},{path:"/auth",component:At},{path:"/employees",component:Ze,meta:{requiresAuth:!0}},{path:"/employee/:employeeId",component:nt,props:!0},{path:"/create-employee",component:H,meta:{requiresAuth:!0}},{path:"/:notFound(.*)",component:ct}]});const Zt=Tt;var qt=n(3907);const Bt={setUser:function(e,t){e.name=t.name,e.token=t.token,e.userId=t.userId,e.didAutoLogout=!1},setAutoLogout:function(e){e.didAutoLogout=!0}};var Ot,Rt=n(4648);n(8862),n(1703),n(6647),n(3710),n(2564);const Lt={login:function(e,t){return(0,B.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",e.dispatch("auth",(0,Rt.Z)((0,Rt.Z)({},t),{},{mode:"login"})));case 1:case"end":return n.stop()}}),n)})))()},signup:function(e,t){return(0,B.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",e.dispatch("auth",(0,Rt.Z)((0,Rt.Z)({},t),{},{mode:"signup"})));case 1:case"end":return n.stop()}}),n)})))()},auth:function(e,t){return(0,B.Z)(regeneratorRuntime.mark((function n(){var o,r,a,i,l,u,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=t.mode,r="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyAmUUH2ntAgbioVMwGiqszeFepZ_-PhqjU","signup"===o&&(r="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAmUUH2ntAgbioVMwGiqszeFepZ_-PhqjU"),n.next=5,fetch(r,{method:"POST",body:JSON.stringify({name:t.name,email:t.email,password:t.password,returnSecureToken:!0})});case 5:return a=n.sent,n.next=8,a.json();case 8:if(i=n.sent,a.ok){n.next=12;break}throw l=new Error(i.message||"Failed to authenticate. Check your login data."),l;case 12:u=1e3*+i.expiresIn,s=(new Date).getTime()+u,localStorage.setItem("token",i.idToken),localStorage.setItem("userId",i.localId),localStorage.setItem("tokenExpiration",s),Ot=setTimeout((function(){e.dispatch("autoLogout")}),u),e.commit("setUser",{token:i.idToken,userId:i.localId});case 19:case"end":return n.stop()}}),n)})))()},tryLogin:function(e){var t=localStorage.getItem("token"),n=localStorage.getItem("userId"),o=localStorage.getItem("tokenExpiration"),r=+o-(new Date).getTime();r<0||(Ot=setTimeout((function(){e.dispatch("autoLogout")}),r),t&&n&&e.commit("setUser",{token:t,userId:n}))},logout:function(e){localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("tokenExpiration"),clearTimeout(Ot),e.commit("setUser",{token:null,userId:null})},autoLogout:function(e){e.dispatch("logout"),e.commit("setAutoLogout")}},zt={userId:function(e){return e.userId},token:function(e){return e.token},isAuthenticated:function(e){return!!e.token},didAutoLogout:function(e){return e.didAutoLogout}},jt={state:function(){return{name:"",userId:null,token:null,didAutoLogout:!1}},mutations:Bt,actions:Lt,getters:zt};var $t=(0,qt.MT)({modules:{auth:jt}});const Pt=$t;var Ft={class:"card"};function Mt(e,t){return(0,r.wg)(),(0,r.iD)("div",Ft,[(0,r.WI)(e.$slots,"default",{},void 0,!0)])}const Ht={},Gt=(0,i.Z)(Ht,[["render",Mt],["__scopeId","data-v-10613769"]]),Jt=Gt;var Kt={class:"card"};function Yt(e,t){return(0,r.wg)(),(0,r.iD)("div",Kt,[(0,r.WI)(e.$slots,"default",{},void 0,!0)])}const Xt={},Qt=(0,i.Z)(Xt,[["render",Yt],["__scopeId","data-v-cb2b7ee0"]]),en=Qt;var tn={class:"card"};function nn(e,t){return(0,r.wg)(),(0,r.iD)("div",tn,[(0,r.WI)(e.$slots,"default",{},void 0,!0)])}const on={},rn=(0,i.Z)(on,[["render",nn],["__scopeId","data-v-211dec21"]]),an=rn;function ln(e,t,n,o,a,i){var l=(0,r.up)("router-link");return n.link?((0,r.wg)(),(0,r.j4)(l,{key:1,to:n.to,class:(0,d.C_)(n.mode)},{default:(0,r.w5)((function(){return[(0,r.WI)(e.$slots,"default",{},void 0,!0)]})),_:3},8,["to","class"])):((0,r.wg)(),(0,r.iD)("button",{key:0,class:(0,d.C_)(n.mode)},[(0,r.WI)(e.$slots,"default",{},void 0,!0)],2))}const un={props:{mode:{type:String,required:!1,default:null},link:{type:Boolean,required:!1,default:!1},to:{type:String,required:!1,default:"/"}}},sn=(0,i.Z)(un,[["render",ln],["__scopeId","data-v-2968fd5f"]]),cn=sn;function dn(e,t,n,o,a,i){return(0,r.wg)(),(0,r.iD)("span",{class:(0,d.C_)(["badge",n.type])},(0,d.zw)(i.text),3)}const pn={props:["type","title"],computed:{text:function(){return this.title.toUpperCase()}}},mn=(0,i.Z)(pn,[["render",dn],["__scopeId","data-v-1356a8cb"]]),fn=mn;var vn=function(e){return(0,r.dD)("data-v-5147169a"),e=e(),(0,r.Cn)(),e},yn={class:"spinner"},hn=vn((function(){return(0,r._)("div",{class:"lds-roller"},[(0,r._)("div"),(0,r._)("div"),(0,r._)("div"),(0,r._)("div"),(0,r._)("div"),(0,r._)("div"),(0,r._)("div"),(0,r._)("div")],-1)})),gn=[hn];function _n(e,t){return(0,r.wg)(),(0,r.iD)("div",yn,gn)}const wn={},bn=(0,i.Z)(wn,[["render",_n],["__scopeId","data-v-5147169a"]]),kn=bn;n(9253);var In={key:0,open:""},xn={key:0},Cn=(0,r.Uk)("Close");function Vn(e,t,n,a,i,l){var u=(0,r.up)("base-button");return(0,r.wg)(),(0,r.j4)(r.lR,{to:"body"},[n.show?((0,r.wg)(),(0,r.iD)("div",{key:0,onClick:t[0]||(t[0]=function(){return l.tryClose&&l.tryClose.apply(l,arguments)}),class:"backdrop"})):(0,r.kq)("",!0),(0,r.Wm)(o.uT,{name:"dialog"},{default:(0,r.w5)((function(){return[n.show?((0,r.wg)(),(0,r.iD)("dialog",In,[(0,r._)("header",null,[(0,r.WI)(e.$slots,"header",{},(function(){return[(0,r._)("h2",null,(0,d.zw)(n.title),1)]}),!0)]),(0,r._)("section",null,[(0,r.WI)(e.$slots,"default",{},void 0,!0)]),n.fixed?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("menu",xn,[(0,r.WI)(e.$slots,"actions",{},(function(){return[(0,r.Wm)(u,{onClick:l.tryClose},{default:(0,r.w5)((function(){return[Cn]})),_:1},8,["onClick"])]}),!0)]))])):(0,r.kq)("",!0)]})),_:3})])}const Un={props:{show:{type:Boolean,required:!0},title:{type:String,required:!1},fixed:{type:Boolean,required:!1,default:!1}},emits:["close"],methods:{tryClose:function(){this.fixed||this.$emit("close")}}},Dn=(0,i.Z)(Un,[["render",Vn],["__scopeId","data-v-43e11fb6"]]),Nn=Dn;var Sn=n(7810),En=n(8947),Wn=n(1436);En.vI.add(Wn.FVb,Wn.r8p,Wn.$aW,Wn.IwR,Wn.T80);var An=(0,o.ri)(s);An.use(Zt),An.use(Pt),An.component("font-awesome-icon",Sn.GN),An.component("base-card",Jt),An.component("register-card",en),An.component("auth-card",an),An.component("base-button",cn),An.component("base-badge",fn),An.component("base-spinner",kn),An.component("base-dialog",Nn),An.component("side-nav",Ce),An.mount("#app")}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.m=e,(()=>{var e=[];n.O=(t,o,r,a)=>{if(!o){var i=1/0;for(c=0;c<e.length;c++){for(var[o,r,a]=e[c],l=!0,u=0;u<o.length;u++)(!1&a||i>=a)&&Object.keys(n.O).every((e=>n.O[e](o[u])))?o.splice(u--,1):(l=!1,a<i&&(i=a));if(l){e.splice(c--,1);var s=r();void 0!==s&&(t=s)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[o,r,a]}})(),(()=>{n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{n.p="/crudemployees/"})(),(()=>{var e={143:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var r,a,[i,l,u]=o,s=0;if(i.some((t=>0!==e[t]))){for(r in l)n.o(l,r)&&(n.m[r]=l[r]);if(u)var c=u(n)}for(t&&t(o);s<i.length;s++)a=i[s],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},o=self["webpackChunkcrudemployees"]=self["webpackChunkcrudemployees"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=n.O(void 0,[998],(()=>n(7706)));o=n.O(o)})();
//# sourceMappingURL=app.bc338bb3.js.map